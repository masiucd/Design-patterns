(()=>{"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e=function(){function e(){this.backlogs=[],this.backlogs=[{id:1,task:"go out with the dog",completed:!1},{id:2,task:"done homework",completed:!0},{id:3,task:"go out for a run",completed:!0},{id:4,task:"cook some food",completed:!1}]}return e.prototype.addBacklog=function(t){return this.backlogs.push(t),this.backlogs},e.prototype.editBacklog=function(e,o,n){return void 0===o&&(o=""),void 0===n&&(n=!1),this.backlogs=this.backlogs.map((function(i){return i.id===e?t(t({},i),{task:o,completed:n}):i})),this.backlogs},e.prototype.toggleBacklog=function(e){return this.backlogs=this.backlogs.map((function(o){return o.id===e?t(t({},o),{completed:!o.completed}):o})),this.backlogs},e.prototype.removeBacklog=function(t){return this.backlogs=this.backlogs.filter((function(e){return e.id!==t})),this.backlogs},Object.defineProperty(e.prototype,"allBacklogs",{get:function(){return this.backlogs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.backlogs.length},enumerable:!1,configurable:!0}),e.prototype.findBacklog=function(t){return this.backlogs.find((function(e){return e.id===t}))},e}(),o=function(){function t(){this.app=this.getElement("#root"),this.title=this.createElement("h1","main-title"),this.title.textContent="BackLogList List",this.form=this.createElement("form","backlog-form"),this.input=this.createElement("input","add-input"),this.input.type="text",this.input.placeholder="enter a new backlog to the backlog...",this.submitButton=this.createElement("button","add-btn"),this.submitButton.innerText="submit",this.backLogList=this.createElement("ul","backlog-list"),this.form.append(this.input,this.submitButton),this.app.append(this.title,this.form,this.backLogList)}return t.prototype.createElement=function(t,e){void 0===e&&(e="");var o=document.createElement(t);return e&&o.classList.add(e),o},t.prototype.getElement=function(t){return document.querySelector(t)},Object.defineProperty(t.prototype,"_getBacklogText",{get:function(){return this.input.value},enumerable:!1,configurable:!0}),t.prototype._clearInput=function(){this.input.value=""},t.prototype.renderBacklogItems=function(t){var e=this;if(0===t.length){var o=this.createElement("p","no-backlogs-message");o.innerText="No backlogs!",this.backLogList.append(o)}else t.forEach((function(t){var o,n=e.createElement("li","item");n.id=String(t.id);var i=e.createElement("checkbox","toggle-box");i.type="checkbox",i.checked=t.completed;var c=e.createElement("span","text-for-backlog");c.innerText=t.task,t.completed?n.classList.add("checked"):n.classList.remove("checked");var a=e.createElement("button","remove-btn");a.textContent="Delete "+(null===(o=t.task)||void 0===o?void 0:o.slice(0,5))+"...",n.append(i,c,a),e.backLogList.append(n)}))},t.prototype.bindAddBacklog=function(t){this.form.addEventListener("submit",(function(t){t.preventDefault(),console.log("submitted")}))},t.prototype.bindToggleBacklog=function(t){},t.prototype.bindDeleteBacklog=function(t){},t.prototype.bindEditBacklog=function(t){},t}();new function(t,e){var o=this;this.backlogListChanged=function(t){o.view.renderBacklogItems(t)},this.handleAddBacklog=function(t){o.model.addBacklog(t)},this.handleEditBacklog=function(t,e,n){o.model.editBacklog(t,e,n)},this.handleToggleBacklog=function(t){o.handleToggleBacklog(t)},this.handleDelete=function(t){o.handleDelete(t)},this.model=t,this.view=e,this.backlogListChanged(this.model.backlogs),this.view.bindAddBacklog(this.handleAddBacklog),this.view.bindDeleteBacklog(this.handleDelete),this.view.bindEditBacklog(this.handleEditBacklog),this.view.bindToggleBacklog(this.handleToggleBacklog)}(new e,new o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMvY29udHJvbGxlcnMvYmFja2xvZy1jb250cm9sbGVyLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212Yy9tb2RlbHMvYmFja2xvZy1tb2RlbC50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMvdmlld3MvYmFja2xvZy12aWV3LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImJhY2tsb2dzIiwidGhpcyIsImlkIiwidGFzayIsImNvbXBsZXRlZCIsImFkZEJhY2tsb2ciLCJ0b2RvIiwicHVzaCIsImVkaXRCYWNrbG9nIiwiYmFja2xvZ0lkIiwibWFwIiwidG9nZ2xlQmFja2xvZyIsInJlbW92ZUJhY2tsb2ciLCJmaWx0ZXIiLCJsZW5ndGgiLCJmaW5kQmFja2xvZyIsImZpbmQiLCJhcHAiLCJnZXRFbGVtZW50IiwidGl0bGUiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJmb3JtIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJzdWJtaXRCdXR0b24iLCJpbm5lclRleHQiLCJiYWNrTG9nTGlzdCIsImFwcGVuZCIsInRhZyIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwiX2NsZWFySW5wdXQiLCJyZW5kZXJCYWNrbG9nSXRlbXMiLCJiYWNrbG9nSXRlbXMiLCJwIiwiZm9yRWFjaCIsIml0ZW0iLCJsaSIsIlN0cmluZyIsImNoZWNrYm94IiwiY2hlY2tlZCIsInNwYW4iLCJyZW1vdmUiLCJkZWxldGVCdG4iLCJzbGljZSIsImJpbmRBZGRCYWNrbG9nIiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsImJpbmRUb2dnbGVCYWNrbG9nIiwiYmluZERlbGV0ZUJhY2tsb2ciLCJiaW5kRWRpdEJhY2tsb2ciLCJtb2RlbCIsInZpZXciLCJiYWNrbG9nTGlzdENoYW5nZWQiLCJsaXN0IiwiaGFuZGxlQWRkQmFja2xvZyIsImhhbmRsZUVkaXRCYWNrbG9nIiwiaGFuZGxlVG9nZ2xlQmFja2xvZyIsImhhbmRsZURlbGV0ZSIsIkJhY2tsb2dNb2RlbCIsIkJhY2tsb2dWaWV3Il0sIm1hcHBpbmdzIjoibUJBR0EsSSwrTUNHQSxhQUVFLGFBREEsS0FBQUEsU0FBMEIsR0FFeEJDLEtBQUtELFNBQVcsQ0FDZCxDQUFFRSxHQUFJLEVBQUdDLEtBQU0sc0JBQXVCQyxXQUFXLEdBQ2pELENBQUVGLEdBQUksRUFBR0MsS0FBTSxnQkFBaUJDLFdBQVcsR0FDM0MsQ0FBRUYsR0FBSSxFQUFHQyxLQUFNLG1CQUFvQkMsV0FBVyxHQUM5QyxDQUFFRixHQUFJLEVBQUdDLEtBQU0saUJBQWtCQyxXQUFXLElBd0NsRCxPQXBDRSxZQUFBQyxXQUFBLFNBQVdDLEdBRVQsT0FEQUwsS0FBS0QsU0FBU08sS0FBS0QsR0FDWkwsS0FBS0QsVUFHZCxZQUFBUSxZQUFBLFNBQ0VDLEVBQ0FOLEVBQ0FDLEdBS0EsWUFOQSxJQUFBRCxNQUFBLFNBQ0EsSUFBQUMsT0FBQSxHQUVBSCxLQUFLRCxTQUFXQyxLQUFLRCxTQUFTVSxLQUFJLFNBQUFKLEdBQ2hDLE9BQUFBLEVBQUtKLEtBQU9PLEVBQVksRUFBRCxLQUFNSCxHQUFJLENBQUVILEtBQUksRUFBRUMsVUFBUyxJQUFLRSxLQUVsREwsS0FBS0QsVUFHZCxZQUFBVyxjQUFBLFNBQWNGLEdBSVosT0FIQVIsS0FBS0QsU0FBV0MsS0FBS0QsU0FBU1UsS0FBSSxTQUFBSixHQUNoQyxPQUFBQSxFQUFLSixLQUFPTyxFQUFZLEVBQUQsS0FBTUgsR0FBSSxDQUFFRixXQUFZRSxFQUFLRixZQUFjRSxLQUU3REwsS0FBS0QsVUFFZCxZQUFBWSxjQUFBLFNBQWNILEdBRVos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R0FBakMsV0FZQSxLQUFBQyxtQkFBcUIsU0FBQ0MsR0FDcEIsRUFBS0YsS0FBS3hCLG1CQUFtQjBCLElBRy9CLEtBQUFDLGlCQUFtQixTQUFDdkIsR0FDbEIsRUFBS21CLE1BQU0xRCxXQUFXdUMsSUFFeEIsS0FBQXdCLGtCQUFvQixTQUFDM0QsRUFBbUJOLEVBQWNDLEdBQ3BELEVBQUsyRCxNQUFNdkQsWUFBWUMsRUFBV04sRUFBTUMsSUFFMUMsS0FBQWlFLG9CQUFzQixTQUFDbkUsR0FDckIsRUFBS21FLG9CQUFvQm5FLElBRTNCLEtBQUFvRSxhQUFlLFNBQUNwRSxHQUNkLEVBQUtvRSxhQUFhcEUsSUF6QmxCRCxLQUFLOEQsTUFBUUEsRUFDYjlELEtBQUsrRCxLQUFPQSxFQUVaL0QsS0FBS2dFLG1CQUFtQmhFLEtBQUs4RCxNQUFNL0QsVUFFbkNDLEtBQUsrRCxLQUFLWCxlQUFlcEQsS0FBS2tFLGtCQUM5QmxFLEtBQUsrRCxLQUFLSCxrQkFBa0I1RCxLQUFLcUUsY0FDakNyRSxLQUFLK0QsS0FBS0YsZ0JBQWdCN0QsS0FBS21FLG1CQUMvQm5FLEtBQUsrRCxLQUFLSixrQkFBa0IzRCxLQUFLb0UscUJHRHZCLENBQXNCLElBQUlFLEVBQWdCLElBQUlDLEkiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFja2xvZ0l0ZW0sIEJhY2tsb2dNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvYmFja2xvZy1tb2RlbFwiXG5pbXBvcnQgeyBCYWNrbG9nVmlldyB9IGZyb20gXCIuLi92aWV3cy9iYWNrbG9nLXZpZXdcIlxuXG5leHBvcnQgY2xhc3MgQmFja2xvZ0NvbnRyb2xsZXIge1xuICBtb2RlbDogQmFja2xvZ01vZGVsXG4gIHZpZXc6IEJhY2tsb2dWaWV3XG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBCYWNrbG9nTW9kZWwsIHZpZXc6IEJhY2tsb2dWaWV3KSB7XG4gICAgdGhpcy5tb2RlbCA9IG1vZGVsXG4gICAgdGhpcy52aWV3ID0gdmlld1xuXG4gICAgdGhpcy5iYWNrbG9nTGlzdENoYW5nZWQodGhpcy5tb2RlbC5iYWNrbG9ncylcblxuICAgIHRoaXMudmlldy5iaW5kQWRkQmFja2xvZyh0aGlzLmhhbmRsZUFkZEJhY2tsb2cpXG4gICAgdGhpcy52aWV3LmJpbmREZWxldGVCYWNrbG9nKHRoaXMuaGFuZGxlRGVsZXRlKVxuICAgIHRoaXMudmlldy5iaW5kRWRpdEJhY2tsb2codGhpcy5oYW5kbGVFZGl0QmFja2xvZylcbiAgICB0aGlzLnZpZXcuYmluZFRvZ2dsZUJhY2tsb2codGhpcy5oYW5kbGVUb2dnbGVCYWNrbG9nKVxuICB9XG5cbiAgYmFja2xvZ0xpc3RDaGFuZ2VkID0gKGxpc3Q6IEJhY2tsb2dJdGVtW10pID0+IHtcbiAgICB0aGlzLnZpZXcucmVuZGVyQmFja2xvZ0l0ZW1zKGxpc3QpXG4gIH1cblxuICBoYW5kbGVBZGRCYWNrbG9nID0gKGl0ZW06IEJhY2tsb2dJdGVtKSA9PiB7XG4gICAgdGhpcy5tb2RlbC5hZGRCYWNrbG9nKGl0ZW0pXG4gIH1cbiAgaGFuZGxlRWRpdEJhY2tsb2cgPSAoYmFja2xvZ0lkOiBudW1iZXIsIHRhc2s6IHN0cmluZywgY29tcGxldGVkOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5tb2RlbC5lZGl0QmFja2xvZyhiYWNrbG9nSWQsIHRhc2ssIGNvbXBsZXRlZClcbiAgfVxuICBoYW5kbGVUb2dnbGVCYWNrbG9nID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUJhY2tsb2coaWQpXG4gIH1cbiAgaGFuZGxlRGVsZXRlID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmhhbmRsZURlbGV0ZShpZClcbiAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBCYWNrbG9nSXRlbSB7XG4gIGlkOiBudW1iZXJcbiAgdGFzazogc3RyaW5nXG4gIGNvbXBsZXRlZDogYm9vbGVhblxufVxuXG5leHBvcnQgY2xhc3MgQmFja2xvZ01vZGVsIHtcbiAgYmFja2xvZ3M6IEJhY2tsb2dJdGVtW10gPSBbXVxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhY2tsb2dzID0gW1xuICAgICAgeyBpZDogMSwgdGFzazogXCJnbyBvdXQgd2l0aCB0aGUgZG9nXCIsIGNvbXBsZXRlZDogZmFsc2UgfSxcbiAgICAgIHsgaWQ6IDIsIHRhc2s6IFwiZG9uZSBob21ld29ya1wiLCBjb21wbGV0ZWQ6IHRydWUgfSxcbiAgICAgIHsgaWQ6IDMsIHRhc2s6IFwiZ28gb3V0IGZvciBhIHJ1blwiLCBjb21wbGV0ZWQ6IHRydWUgfSxcbiAgICAgIHsgaWQ6IDQsIHRhc2s6IFwiY29vayBzb21lIGZvb2RcIiwgY29tcGxldGVkOiBmYWxzZSB9LFxuICAgIF1cbiAgfVxuXG4gIGFkZEJhY2tsb2codG9kbzogQmFja2xvZ0l0ZW0pIHtcbiAgICB0aGlzLmJhY2tsb2dzLnB1c2godG9kbylcbiAgICByZXR1cm4gdGhpcy5iYWNrbG9nc1xuICB9XG5cbiAgZWRpdEJhY2tsb2coXG4gICAgYmFja2xvZ0lkOiBudW1iZXIsXG4gICAgdGFzazogc3RyaW5nID0gXCJcIixcbiAgICBjb21wbGV0ZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICApIHtcbiAgICB0aGlzLmJhY2tsb2dzID0gdGhpcy5iYWNrbG9ncy5tYXAodG9kbyA9PlxuICAgICAgdG9kby5pZCA9PT0gYmFja2xvZ0lkID8geyAuLi50b2RvLCB0YXNrLCBjb21wbGV0ZWQgfSA6IHRvZG9cbiAgICApXG4gICAgcmV0dXJuIHRoaXMuYmFja2xvZ3NcbiAgfVxuXG4gIHRvZ2dsZUJhY2tsb2coYmFja2xvZ0lkOiBudW1iZXIpIHtcbiAgICB0aGlzLmJhY2tsb2dzID0gdGhpcy5iYWNrbG9ncy5tYXAodG9kbyA9PlxuICAgICAgdG9kby5pZCA9PT0gYmFja2xvZ0lkID8geyAuLi50b2RvLCBjb21wbGV0ZWQ6ICF0b2RvLmNvbXBsZXRlZCB9IDogdG9kb1xuICAgIClcbiAgICByZXR1cm4gdGhpcy5iYWNrbG9nc1xuICB9XG4gIHJlbW92ZUJhY2tsb2coYmFja2xvZ0lkOiBudW1iZXIpIHtcbiAgICB0aGlzLmJhY2tsb2dzID0gdGhpcy5iYWNrbG9ncy5maWx0ZXIodG9kbyA9PiB0b2RvLmlkICE9PSBiYWNrbG9nSWQpXG4gICAgcmV0dXJuIHRoaXMuYmFja2xvZ3NcbiAgfVxuXG4gIGdldCBhbGxCYWNrbG9ncygpIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrbG9nc1xuICB9XG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmJhY2tsb2dzLmxlbmd0aFxuICB9XG4gIGZpbmRCYWNrbG9nKGJhY2tsb2dJZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja2xvZ3MuZmluZCh0b2RvID0+IHRvZG8uaWQgPT09IGJhY2tsb2dJZClcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFja2xvZ0l0ZW0gfSBmcm9tIFwiLi4vbW9kZWxzL2JhY2tsb2ctbW9kZWxcIlxuXG5leHBvcnQgY2xhc3MgQmFja2xvZ1ZpZXcge1xuICBhcHA6IEhUTUxEaXZFbGVtZW50XG4gIHRpdGxlOiBIVE1MSGVhZEVsZW1lbnRcbiAgZm9ybTogSFRNTEZvcm1FbGVtZW50XG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50XG4gIHN1Ym1pdEJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnRcbiAgYmFja0xvZ0xpc3Q6IEhUTUxVTGlzdEVsZW1lbnRcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyByb290XG4gICAgdGhpcy5hcHAgPSB0aGlzLmdldEVsZW1lbnQoXCIjcm9vdFwiKSBhcyBIVE1MRGl2RWxlbWVudFxuXG4gICAgdGhpcy50aXRsZSA9IHRoaXMuY3JlYXRlRWxlbWVudChcImgxXCIsIFwibWFpbi10aXRsZVwiKSBhcyBIVE1MSGVhZEVsZW1lbnRcbiAgICB0aGlzLnRpdGxlLnRleHRDb250ZW50ID0gXCJCYWNrTG9nTGlzdCBMaXN0XCJcblxuICAgIHRoaXMuZm9ybSA9IHRoaXMuY3JlYXRlRWxlbWVudChcImZvcm1cIiwgXCJiYWNrbG9nLWZvcm1cIikgYXMgSFRNTEZvcm1FbGVtZW50XG5cbiAgICB0aGlzLmlucHV0ID0gdGhpcy5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgXCJhZGQtaW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudFxuICAgIHRoaXMuaW5wdXQudHlwZSA9IFwidGV4dFwiXG4gICAgdGhpcy5pbnB1dC5wbGFjZWhvbGRlciA9IFwiZW50ZXIgYSBuZXcgYmFja2xvZyB0byB0aGUgYmFja2xvZy4uLlwiXG5cbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiYnV0dG9uXCIsXG4gICAgICBcImFkZC1idG5cIlxuICAgICkgYXMgSFRNTEJ1dHRvbkVsZW1lbnRcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5pbm5lclRleHQgPSBcInN1Ym1pdFwiXG5cbiAgICB0aGlzLmJhY2tMb2dMaXN0ID0gdGhpcy5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJ1bFwiLFxuICAgICAgXCJiYWNrbG9nLWxpc3RcIlxuICAgICkgYXMgSFRNTFVMaXN0RWxlbWVudFxuXG4gICAgdGhpcy5mb3JtLmFwcGVuZCh0aGlzLmlucHV0LCB0aGlzLnN1Ym1pdEJ1dHRvbilcbiAgICB0aGlzLmFwcC5hcHBlbmQodGhpcy50aXRsZSwgdGhpcy5mb3JtLCB0aGlzLmJhY2tMb2dMaXN0KVxuICB9XG5cbiAgY3JlYXRlRWxlbWVudCh0YWc6IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcgPSBcIlwiKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICAgIGlmIChjbGFzc05hbWUpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpXG5cbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG5cbiAgZ2V0RWxlbWVudChzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2dldEJhY2tsb2dUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlXG4gIH1cblxuICBwcml2YXRlIF9jbGVhcklucHV0KCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiXG4gIH1cblxuICByZW5kZXJCYWNrbG9nSXRlbXMoYmFja2xvZ0l0ZW1zOiBCYWNrbG9nSXRlbVtdKSB7XG4gICAgaWYgKGJhY2tsb2dJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIFwibm8tYmFja2xvZ3MtbWVzc2FnZVwiKVxuICAgICAgcC5pbm5lclRleHQgPSBcIk5vIGJhY2tsb2dzIVwiXG4gICAgICB0aGlzLmJhY2tMb2dMaXN0LmFwcGVuZChwKVxuICAgIH0gZWxzZSB7XG4gICAgICBiYWNrbG9nSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgbGkgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCBcIml0ZW1cIikgYXMgSFRNTExJRWxlbWVudFxuICAgICAgICBsaS5pZCA9IFN0cmluZyhpdGVtLmlkKVxuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwiY2hlY2tib3hcIixcbiAgICAgICAgICBcInRvZ2dsZS1ib3hcIlxuICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIlxuICAgICAgICBjaGVja2JveC5jaGVja2VkID0gaXRlbS5jb21wbGV0ZWRcblxuICAgICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBcInRleHQtZm9yLWJhY2tsb2dcIilcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBpdGVtLnRhc2tcblxuICAgICAgICBpZiAoaXRlbS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tlZFwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2VkXCIpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICBcInJlbW92ZS1idG5cIlxuICAgICAgICApIGFzIEhUTUxCdXR0b25FbGVtZW50XG4gICAgICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IGBEZWxldGUgJHtpdGVtLnRhc2s/LnNsaWNlKDAsIDUpfS4uLmBcblxuICAgICAgICBsaS5hcHBlbmQoY2hlY2tib3gsIHNwYW4sIGRlbGV0ZUJ0bilcblxuICAgICAgICB0aGlzLmJhY2tMb2dMaXN0LmFwcGVuZChsaSlcbiAgICAgIH0pXG4gICAgICAvLyBsZXQgaHRtbCA9IGBgXG4gICAgICAvLyBmb3IgKGxldCBpdGVtIG9mIEFycmF5LmZyb20oYmFja2xvZ0l0ZW1zKSkge1xuICAgICAgLy8gICBodG1sICs9IGA8bGk+ICR7aXRlbS50YXNrfTwvbGk+ICBgXG4gICAgICAvLyB9XG4gICAgICAvLyB0aGlzLmJhY2tMb2dMaXN0LmlubmVySFRNTCA9IGh0bWxcbiAgICB9XG4gIH1cblxuICBiaW5kQWRkQmFja2xvZyhoYW5kbGVyOiBGdW5jdGlvbikge1xuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudDogRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGNvbnNvbGUubG9nKFwic3VibWl0dGVkXCIpXG4gICAgfSlcbiAgfVxuICBiaW5kVG9nZ2xlQmFja2xvZyhoYW5kbGVyOiAoaWQ6IG51bWJlcikgPT4gdm9pZCkge31cbiAgYmluZERlbGV0ZUJhY2tsb2coaGFuZGxlcjogKGlkOiBudW1iZXIpID0+IHZvaWQpIHt9XG4gIGJpbmRFZGl0QmFja2xvZyhcbiAgICBoYW5kbGVyOiAoYmFja2xvZ0lkOiBudW1iZXIsIHRhc2s6IHN0cmluZywgY29tcGxldGVkOiBib29sZWFuKSA9PiB2b2lkXG4gICkge31cbn1cbiIsImltcG9ydCB7IFRvZG9WaWV3IH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjL3ZpZXdzL3RvZG8tdmlld1wiXG5pbXBvcnQgeyBUb2RvTGlzdCB9IGZyb20gXCIuL3BhdHRlcm5zL212Yy9tb2RlbHMvdG9kby1saXN0XCJcbmltcG9ydCB7IFRvZG9Db250cm9sbGVyIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjL2NvbnRyb2xsZXJzL3RvZG8tY29udHJvbGxlclwiXG5pbXBvcnQgeyBCYWNrbG9nQ29udHJvbGxlciB9IGZyb20gXCIuL3BhdHRlcm5zL212Yy9jb250cm9sbGVycy9iYWNrbG9nLWNvbnRyb2xsZXJcIlxuaW1wb3J0IHsgQmFja2xvZ01vZGVsIH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjL21vZGVscy9iYWNrbG9nLW1vZGVsXCJcbmltcG9ydCB7IEJhY2tsb2dWaWV3IH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjL3ZpZXdzL2JhY2tsb2ctdmlld1wiXG47KCgpID0+IHtcbiAgLy8gY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSBhcyBIVE1MRGl2RWxlbWVudFxuICAvLyBjb25zdCB0b2RvTGlzdCA9IG5ldyBUb2RvTGlzdCgpXG4gIC8vIGNvbnN0IGxpc3QgPSB0b2RvTGlzdC5hbGxUb2Rvc1xuICAvLyBjb25zdCB0b2RvVmlldyA9IG5ldyBUb2RvVmlldyhsaXN0KVxuICAvLyBjb25zdCB0b2RvQ29udHJvbGxlciA9IG5ldyBUb2RvQ29udHJvbGxlcih0b2RvTGlzdCwgdG9kb1ZpZXcpXG4gIC8vIHRvZG9Db250cm9sbGVyLmhhbmRsZU1vdW50KHJvb3QpXG5cbiAgY29uc3QgYXBwID0gbmV3IEJhY2tsb2dDb250cm9sbGVyKG5ldyBCYWNrbG9nTW9kZWwoKSwgbmV3IEJhY2tsb2dWaWV3KCkpXG59KSgpXG4iXSwic291cmNlUm9vdCI6IiJ9