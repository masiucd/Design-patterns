(()=>{"use strict";var t,n=function(){function t(t,n,e){this.teacher=t,this.students=n,this.admin=e}return t.prototype.render=function(){this.teacher.init(),this.admin.init(),this.students.init()},t}(),e=function(){function t(t,n,e,i){this.parentElement=t,this.dataList=n,this.title=e,this.subTitles=i}return t.prototype.clickHandler=function(t){document.querySelectorAll("tr").forEach((function(n){return n.addEventListener("click",(function(){t(parseInt(n.dataset.id,10)),sessionStorage.setItem("user",String(n.dataset.id))}))}))},t.prototype.render=function(){var t='\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table class="'+this.title+'">\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return'<td data-info="'+n[t]+'">'+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    ";this.parentElement.innerHTML=t},t.prototype.renderRawHtml=function(){return'\n    <div class="table-wrapper wrapper-'+this.title+'">\n    <table>\n        <caption>'+this.title+"</caption>\n        <thead>\n          "+this.subTitles.map((function(t){return"<th>"+t+"</th>"})).join("")+"\n        </thead>\n        <tbody>\n          "+this.dataList.map((function(t){var n=t.displayInfo();return'\n                <tr data-id="'+t.id+'">\n                '+Object.keys(n).map((function(t){return"<td>"+n[t]+"</td>"})).join("")+"\n                </tr>\n          "})).join("")+"\n        </tbody>\n      </table>\n    </div>\n    "},t.prototype.mount=function(t){t.innerHTML=this.renderRawHtml()},t.prototype.init=function(){this.render()},t}(),i=function(t,n,e,i,o){this.id=t,this.firstName=n,this.lastName=e,this.email=i,this.age=o},o=(t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)},function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.subjects=[],s}return o(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n}(i),s=function(){function t(t){this.parentElement=t,this.teachersView=new e(this.parentElement,[new r(1,"Frank","Smith","frank@io.com",43),new r(2,"Logan","Jonsson","logan@io.com",47),new r(3,"Mia","Greger","mia@io.com",41),new r(4,"Boris","Rooney","frank@io.com",53)],"Teachers",["name","email","age"])}return t.prototype.init=function(){this.teachersView.init()},t}(),a=function(){function t(){this.id=1,this.name="Mr Alfred",this.isAdmin=!0}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.receive=function(t,n){var e="Student "+n.firstName+" "+t;return console.log(e),e},t}(),u=function(){return new a},c=function(){function t(){this.students={},this.admin=u()}return t.prototype.registerStudent=function(t){this.students[t.firstName]=t,t.adminMediator=this},t.prototype.send=function(t,n,e,i){var o=this;e&&i?(e.receive(t,n),null==i||i.receive(t,n)):Object.keys(this.students).forEach((function(e){o.students[e]!==n&&o.students[e].receive(t,n)}))},t}(),d=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),l=function(t){function n(n,e,i,o,r){var s=t.call(this,n,e,i,o,r)||this;return s.adminMediator=null,s}return d(n,t),n.prototype.displayInfo=function(){return{name:this.firstName+"-"+this.lastName,email:this.email,age:""+this.age}},n.prototype.send=function(t,n,e){var i;null===(i=this.adminMediator)||void 0===i||i.send(t,this,n,e)},n.prototype.receive=function(t,n){return t+" - from "+n},n}(i),h=new c,f=function(){return[new l(1,"Frank","Mellberg","frank@io.com",21),new l(2,"Rio","Ferdinand","rio@io.com",25),new l(3,"Nemanja","Vidic","nemanja@io.com",32),new l(4,"Fredrik","ljungberg","fredrik@io.com",32)]},p=function(){function t(t,n,i,o,r){this.parentElement=t,this.list=n,this.data=i,this.title=o,this.subTitles=r,this.listView=new e(this.parentElement,this.list,this.title,this.subTitles),this.confirmationText="",this.admin=u()}return t.prototype.updateText=function(t){console.log("TEXT",t),this.confirmationText=t},t.prototype.render=function(){var t,n=this,e=document.querySelector(".modal");e.classList.add("show-modal");var i='\n    <div class="modal-container">\n      '+this.listView.renderRawHtml()+"\n      "+this.confirmationText+'\n      <button class="close-modal">\n        ‚ùå\n      </button>\n    </div>\n    ';e.innerHTML=i,null===(t=document.querySelector(".close-modal"))||void 0===t||t.addEventListener("click",(function(){e.classList.remove("show-modal"),e.innerHTML=""})),document.querySelectorAll(".modal tbody tr").forEach((function(t){t.addEventListener("click",(function(t){if("send"in n.data){var e="You have now been registered to the "+t.target.innerText+" Course";n.data.send(e,n.data,n.admin),n.updateText(e),n.updateHtml()}}))}))},t.prototype.updateHtml=function(){this.render()},t}(),m=function(){function t(t,n,e,i){this.id=t,this.title=n,this.description=e,this.duration=i}return t.prototype.displayInfo=function(){return{title:this.title,duration:this.duration}},t}(),y=function(){function t(t){this.parentElement=t,this.studentsView=new e(this.parentElement,f(),"Students",["name","email","age"])}return t.prototype.handleClickStudent=function(){this.studentsView.clickHandler((function(t){var n=f().find((function(n){return n.id===t})),e=[new m(1,"math","math is wonderful","6h"),new m(2,"history","history is good for you","3h"),new m(3,"swedish","without swedish you will face some serious problems","2h"),new m(4,"english","the global language, learn it NOW!!!","5h")],i=document.querySelector(".modal-list");new p(i,e,n,"courses",["title","duration"]).render()}))},t.prototype.handleShowProfile=function(){},t.prototype.init=function(){this.studentsView.init(),this.handleClickStudent(),function(){for(var t=0,n=f();t<n.length;t++){var e=n[t];h.registerStudent(e)}}(),this.handleShowProfile()},t}(),w=function(){function t(t){this.parentElement=t,this.admin=u()}return t.prototype.render=function(){},t}(),v=function(){function t(t){this.parentElement=t,this.adminView=new w(this.parentElement)}return t.prototype.init=function(){this.adminView.render()},t}();new n(new s(document.getElementById("teacher")),new y(document.getElementById("student")),new v(document.getElementById("admin"))).render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvYXBwLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC92aWV3cy9saXN0LXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9QZXJzb24udHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy90ZWFjaGVyLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy90ZWFjaGVyLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212YzIuMC9tb2RlbHMvYWRtaW4udHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9tZWRpYXRvci50cyIsIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMyLjAvbW9kZWxzL3N0dWRlbnQudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL3ZpZXdzL21vZGFsLXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL21vZGVscy9jb3Vyc2UudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL3N0dWRlbnQudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL3ZpZXdzL2FkbWluLXZpZXcudHMiLCJ3ZWJwYWNrOi8vc2Nob29sLWRhdGEvLi9zcmMvcGF0dGVybnMvbXZjMi4wL2NvbnRyb2xsZXJzL2FkbWluLnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbInRlYWNoZXIiLCJzdHVkZW50cyIsImFkbWluIiwidGhpcyIsInJlbmRlciIsImluaXQiLCJwYXJlbnRFbGVtZW50IiwiZGF0YUxpc3QiLCJ0aXRsZSIsInN1YlRpdGxlcyIsImNsaWNrSGFuZGxlciIsInN1YnNjcmliZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidHIiLCJhZGRFdmVudExpc3RlbmVyIiwicGFyc2VJbnQiLCJkYXRhc2V0IiwiaWQiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJTdHJpbmciLCJodG1sIiwibWFwIiwidCIsImpvaW4iLCJkYXRhIiwiZGlzcGxheUluZm8iLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaW5uZXJIVE1MIiwicmVuZGVyUmF3SHRtbCIsIm1vdW50IiwiZWxlbWVudCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJhZ2UiLCJzdWJqZWN0cyIsIm5hbWUiLCJQZXJzb24iLCJ0ZWFjaGVyc1ZpZXciLCJMaXN0VmlldyIsIlRlYWNoZXIiLCJpc0FkbWluIiwiZ2V0SW5zdGFuY2UiLCJBZG1pbiIsImluc3RhbmNlIiwicmVjZWl2ZSIsIm1lc3NhZ2UiLCJmcm9tIiwic3R1ZGVudFJlZ2lzdHJlZEZvckNvdXJzZU1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwibG9hZEFkbWluIiwicmVnaXN0ZXJTdHVkZW50Iiwic3R1ZGVudCIsImFkbWluTWVkaWF0b3IiLCJzZW5kIiwidG8iLCJBZG1pbk1lZGlhdG9yIiwibG9hZFN0dWRlbnRzIiwiU3R1ZGVudCIsImxpc3QiLCJsaXN0VmlldyIsImNvbmZpcm1hdGlvblRleHQiLCJ1cGRhdGVUZXh0IiwidGV4dCIsIm1vZGFsV3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJldmVudCIsInRhcmdldCIsImlubmVyVGV4dCIsInVwZGF0ZUh0bWwiLCJkZXNjcmlwdGlvbiIsImR1cmF0aW9uIiwic3R1ZGVudHNWaWV3IiwiaGFuZGxlQ2xpY2tTdHVkZW50IiwiZmluZCIsImNvdXJzZXMiLCJDb3Vyc2UiLCJtb2RhbCIsImhhbmRsZVNob3dQcm9maWxlIiwicmVnaXN0ZXJBbGxTdHVkZW50cyIsImFkbWluVmlldyIsIkFkbWluVmlldyIsIkFwcCIsIlRlYWNoZXJDb250cm9sbGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJTdHVkZW50Q29udHJvbGxlciIsIkFkbWluQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6Im1CQUtBLEksRUFBQSxhQUlFLFdBQVlBLEVBQTRCQyxFQUE2QkMsR0FDbkVDLEtBQUtILFFBQVVBLEVBQ2ZHLEtBQUtGLFNBQVdBLEVBQ2hCRSxLQUFLRCxNQUFRQSxFQVFqQixPQUxFLFlBQUFFLE9BQUEsV0FDRUQsS0FBS0gsUUFBUUssT0FDYkYsS0FBS0QsTUFBTUcsT0FDWEYsS0FBS0YsU0FBU0ksUUFFbEIsRUFmQSxHQ0ZBLGFBS0UsV0FDRUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQU4sS0FBS0csY0FBZ0JBLEVBQ3JCSCxLQUFLSSxTQUFXQSxFQUNoQkosS0FBS0ssTUFBUUEsRUFDYkwsS0FBS00sVUFBWUEsRUE0RXJCLE9BekVFLFlBQUFDLGFBQUEsU0FBYUMsR0FDQ0MsU0FBU0MsaUJBQWlCLE1BQ2xDQyxTQUFRLFNBQUFDLEdBQ1YsT0FBQUEsRUFBR0MsaUJBQWlCLFNBQVMsV0FDM0JMLEVBQVdNLFNBQVNGLEVBQUdHLFFBQVFDLEdBQUssS0FDcENDLGVBQWVDLFFBQVEsT0FBUUMsT0FBT1AsRUFBR0csUUFBUUMsWUFLL0MsWUFBQWYsT0FBUixXQUNFLElBQU1tQixFQUFPLDJDQUN1QnBCLEtBQUtLLE1BQUsseUJBQzlCTCxLQUFLSyxNQUFLLHdCQUNYTCxLQUFLSyxNQUFLLDBDQUVqQkwsS0FBS00sVUFBVWUsS0FBSSxTQUFBQyxHQUFLLGFBQU9BLEVBQUMsV0FBU0MsS0FBSyxJQUFHLGtEQUdoRHZCLEtBQUtJLFNBQ0xpQixLQUFJLFNBQUNHLEdBQ0osSUFBTUMsRUFBY0QsRUFB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QUFrQmhGLFNBQVNpRixlQUFlLFlBQzlDLElBQUlDLEVBQWtCbEYsU0FBU2lGLGVBQWUsWUFDOUMsSUFBSUUsRUFBZ0JuRixTQUFTaUYsZUFBZSxXQUM1Q3pGLFUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVhY2hlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi90ZWFjaGVyXCJcbmltcG9ydCB7IENvdXJzZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb3Vyc2VcIlxuaW1wb3J0IHsgU3R1ZGVudENvbnRyb2xsZXIgfSBmcm9tIFwiLi9zdHVkZW50XCJcbmltcG9ydCB7IEFkbWluQ29udHJvbGxlciB9IGZyb20gXCIuL2FkbWluXCJcblxuZXhwb3J0IGNsYXNzIEFwcCB7XG4gIHRlYWNoZXI6IFRlYWNoZXJDb250cm9sbGVyXG4gIHN0dWRlbnRzOiBTdHVkZW50Q29udHJvbGxlclxuICBhZG1pbjogQWRtaW5Db250cm9sbGVyXG4gIGNvbnN0cnVjdG9yKHRlYWNoZXI6IFRlYWNoZXJDb250cm9sbGVyLCBzdHVkZW50czogU3R1ZGVudENvbnRyb2xsZXIsIGFkbWluOiBBZG1pbkNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLnRlYWNoZXIgPSB0ZWFjaGVyXG4gICAgdGhpcy5zdHVkZW50cyA9IHN0dWRlbnRzXG4gICAgdGhpcy5hZG1pbiA9IGFkbWluXG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgdGhpcy50ZWFjaGVyLmluaXQoKVxuICAgIHRoaXMuYWRtaW4uaW5pdCgpXG4gICAgdGhpcy5zdHVkZW50cy5pbml0KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ291cnNlIH0gZnJvbSBcIi4uLy4uL212Yy9tb2RlbHMvY291cnNlLW1vZGVsXCJcbmltcG9ydCB7IFRlYWNoZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3RlYWNoZXJcIlxuXG5leHBvcnQgY2xhc3MgTGlzdFZpZXc8VD4ge1xuICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudFxuICBkYXRhTGlzdDogQXJyYXk8VD5cbiAgdGl0bGU6IHN0cmluZ1xuICBzdWJUaXRsZXM6IHN0cmluZ1tdXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuICAgIGRhdGFMaXN0OiBBcnJheTxUPixcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIHN1YlRpdGxlczogc3RyaW5nW10sXG4gICkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YUxpc3RcbiAgICB0aGlzLnRpdGxlID0gdGl0bGVcbiAgICB0aGlzLnN1YlRpdGxlcyA9IHN1YlRpdGxlc1xuICB9XG5cbiAgY2xpY2tIYW5kbGVyKHN1YnNjcmliZXI6IEZ1bmN0aW9uKSB7XG4gICAgY29uc3QgdHJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInRyXCIpXG4gICAgdHJzLmZvckVhY2godHIgPT5cbiAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHN1YnNjcmliZXIocGFyc2VJbnQodHIuZGF0YXNldC5pZCEsIDEwKSlcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgU3RyaW5nKHRyLmRhdGFzZXQuaWQpKVxuICAgICAgfSksXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtd3JhcHBlciB3cmFwcGVyLSR7dGhpcy50aXRsZX1cIj5cbiAgICA8dGFibGUgY2xhc3M9XCIke3RoaXMudGl0bGV9XCI+XG4gICAgICAgIDxjYXB0aW9uPiR7dGhpcy50aXRsZX08L2NhcHRpb24+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAke3RoaXMuc3ViVGl0bGVzLm1hcCh0ID0+IGA8dGg+JHt0fTwvdGg+YCkuam9pbihcIlwiKX1cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICR7KHRoaXMuZGF0YUxpc3QgYXMgQXJyYXk8VD4pXG4gICAgICAgICAgICAubWFwKChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZGlzcGxheUluZm8gPSBkYXRhLmRpc3BsYXlJbmZvKCkgYXMgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxuICAgICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDx0ciBkYXRhLWlkPVwiJHtkYXRhLmlkfVwiPlxuICAgICAgICAgICAgICAgICR7T2JqZWN0LmtleXMoZGlzcGxheUluZm8pXG4gICAgICAgICAgICAgICAgICAubWFwKGtleSA9PiBgPHRkIGRhdGEtaW5mbz1cIiR7ZGlzcGxheUluZm9ba2V5XX1cIj4ke2Rpc3BsYXlJbmZvW2tleV19PC90ZD5gKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICBgXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oXCJcIil9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvZGl2PlxuICAgIGBcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbFxuICB9XG5cbiAgcmVuZGVyUmF3SHRtbCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLXdyYXBwZXIgd3JhcHBlci0ke3RoaXMudGl0bGV9XCI+XG4gICAgPHRhYmxlPlxuICAgICAgICA8Y2FwdGlvbj4ke3RoaXMudGl0bGV9PC9jYXB0aW9uPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgJHt0aGlzLnN1YlRpdGxlcy5tYXAodCA9PiBgPHRoPiR7dH08L3RoPmApLmpvaW4oXCJcIil9XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAkeyh0aGlzLmRhdGFMaXN0IGFzIEFycmF5PGFueT4pXG4gICAgICAgICAgICAubWFwKChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZGlzcGxheUluZm8gPSBkYXRhLmRpc3BsYXlJbmZvKCkgYXMgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxuICAgICAgICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgICAgIDx0ciBkYXRhLWlkPVwiJHtkYXRhLmlkfVwiPlxuICAgICAgICAgICAgICAgICR7T2JqZWN0LmtleXMoZGlzcGxheUluZm8pXG4gICAgICAgICAgICAgICAgICAubWFwKGtleSA9PiBgPHRkPiR7ZGlzcGxheUluZm9ba2V5XX08L3RkPmApXG4gICAgICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIGBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9kaXY+XG4gICAgYFxuICAgIHJldHVybiBodG1sXG4gIH1cblxuICBtb3VudChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXJSYXdIdG1sKClcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXIoKVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUGVyc29uIHtcbiAgaWQ6IG51bWJlclxuICBmaXJzdE5hbWU6IHN0cmluZ1xuICBsYXN0TmFtZTogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgYWdlOiBudW1iZXJcbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgZmlyc3ROYW1lOiBzdHJpbmcsIGxhc3ROYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIGFnZTogbnVtYmVyKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy5maXJzdE5hbWUgPSBmaXJzdE5hbWVcbiAgICB0aGlzLmxhc3ROYW1lID0gbGFzdE5hbWVcbiAgICB0aGlzLmVtYWlsID0gZW1haWxcbiAgICB0aGlzLmFnZSA9IGFnZVxuICB9XG59XG4iLCJpbXBvcnQgeyBQZXJzb24gfSBmcm9tIFwiLi9QZXJzb25cIlxuaW1wb3J0IHsgU3ViamVjdCwgVGVhY2hlclN0dWRlbnRDb25zdHJ1Y3QgfSBmcm9tIFwiLi4vdHlwZXNcIlxuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiXG5cbmV4cG9ydCBjbGFzcyBUZWFjaGVyIGV4dGVuZHMgUGVyc29uIGltcGxlbWVudHMgVGVhY2hlclN0dWRlbnRDb25zdHJ1Y3Qge1xuICBzdWJqZWN0czogU3ViamVjdFtdXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIGZpcnN0TmFtZTogc3RyaW5nLCBsYXN0TmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBhZ2U6IG51bWJlcikge1xuICAgIHN1cGVyKGlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgYWdlKVxuICAgIHRoaXMuc3ViamVjdHMgPSBbXVxuICB9XG5cbiAgZGlzcGxheUluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGAke3RoaXMuZmlyc3ROYW1lfS0ke3RoaXMubGFzdE5hbWV9YCxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgYWdlOiBgJHt0aGlzLmFnZX1gLFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9hZFRlYWNoZXJzID0gKCkgPT4gW1xuICBuZXcgVGVhY2hlcigxLCBcIkZyYW5rXCIsIFwiU21pdGhcIiwgXCJmcmFua0Bpby5jb21cIiwgNDMpLFxuICBuZXcgVGVhY2hlcigyLCBcIkxvZ2FuXCIsIFwiSm9uc3NvblwiLCBcImxvZ2FuQGlvLmNvbVwiLCA0NyksXG4gIG5ldyBUZWFjaGVyKDMsIFwiTWlhXCIsIFwiR3JlZ2VyXCIsIFwibWlhQGlvLmNvbVwiLCA0MSksXG4gIG5ldyBUZWFjaGVyKDQsIFwiQm9yaXNcIiwgXCJSb29uZXlcIiwgXCJmcmFua0Bpby5jb21cIiwgNTMpLFxuXVxuIiwiaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vdmlld3MvbGlzdC12aWV3XCJcbmltcG9ydCB7IGxvYWRUZWFjaGVycywgVGVhY2hlciB9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiXG5cbmV4cG9ydCBjbGFzcyBUZWFjaGVyQ29udHJvbGxlciB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIHRlYWNoZXJzVmlldzogTGlzdFZpZXc8VGVhY2hlcj5cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy50ZWFjaGVyc1ZpZXcgPSBuZXcgTGlzdFZpZXcodGhpcy5wYXJlbnRFbGVtZW50LCBsb2FkVGVhY2hlcnMoKSwgXCJUZWFjaGVyc1wiLCBbXG4gICAgICBcIm5hbWVcIixcbiAgICAgIFwiZW1haWxcIixcbiAgICAgIFwiYWdlXCIsXG4gICAgXSlcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy50ZWFjaGVyc1ZpZXcuaW5pdCgpXG4gIH1cbn1cbiIsImltcG9ydCB7IENvdXJzZSB9IGZyb20gXCIuL2NvdXJzZVwiXG5pbXBvcnQgeyBTdHVkZW50IH0gZnJvbSBcIi4vc3R1ZGVudFwiXG5cbmNsYXNzIEFkbWluIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEFkbWluXG4gIGlkOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIGlzQWRtaW46IGJvb2xlYW5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pZCA9IDFcbiAgICB0aGlzLm5hbWUgPSBcIk1yIEFsZnJlZFwiXG4gICAgdGhpcy5pc0FkbWluID0gdHJ1ZVxuICB9XG4gIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoIUFkbWluLmluc3RhbmNlKSB7XG4gICAgICBBZG1pbi5pbnN0YW5jZSA9IG5ldyBBZG1pbigpXG4gICAgfVxuICAgIHJldHVybiBBZG1pbi5pbnN0YW5jZVxuICB9XG4gIHJlY2VpdmUobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50KTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHVkZW50UmVnaXN0cmVkRm9yQ291cnNlTWVzc2FnZSA9IGBTdHVkZW50ICR7ZnJvbS5maXJzdE5hbWV9ICR7bWVzc2FnZX1gXG4gICAgY29uc29sZS5sb2coc3R1ZGVudFJlZ2lzdHJlZEZvckNvdXJzZU1lc3NhZ2UpXG4gICAgcmV0dXJuIHN0dWRlbnRSZWdpc3RyZWRGb3JDb3Vyc2VNZXNzYWdlXG4gIH1cbn1cblxuY29uc3QgbG9hZEFkbWluID0gKCkgPT4gbmV3IEFkbWluKClcblxuZXhwb3J0IHsgQWRtaW4sIGxvYWRBZG1pbiB9XG4iLCJpbXBvcnQgeyBBZG1pbiwgbG9hZEFkbWluIH0gZnJvbSBcIi4vYWRtaW5cIlxuaW1wb3J0IHsgQ291cnNlIH0gZnJvbSBcIi4vY291cnNlXCJcbmltcG9ydCB7IFN0dWRlbnQgfSBmcm9tIFwiLi9zdHVkZW50XCJcblxuY2xhc3MgQWRtaW5NZWRpYXRvciB7XG4gIHN0dWRlbnRzOiBSZWNvcmQ8c3RyaW5nLCBTdHVkZW50PlxuICBhZG1pbjogQWRtaW5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdHVkZW50cyA9IHt9XG4gICAgdGhpcy5hZG1pbiA9IGxvYWRBZG1pbigpXG4gIH1cbiAgcmVnaXN0ZXJTdHVkZW50KHN0dWRlbnQ6IFN0dWRlbnQpIHtcbiAgICB0aGlzLnN0dWRlbnRzW3N0dWRlbnQuZmlyc3ROYW1lXSA9IHN0dWRlbnRcbiAgICBzdHVkZW50LmFkbWluTWVkaWF0b3IgPSB0aGlzXG4gIH1cblxuICBzZW5kKG1lc3NhZ2U6IHN0cmluZywgZnJvbTogU3R1ZGVudCwgdG8/OiBTdHVkZW50LCBhZG1pbj86IEFkbWluKSB7XG4gICAgaWYgKHRvICYmIGFkbWluKSB7XG4gICAgICB0by5yZWNlaXZlKG1lc3NhZ2UsIGZyb20pXG4gICAgICBhZG1pbj8ucmVjZWl2ZShtZXNzYWdlLCBmcm9tKVxuICAgIH0gZWxzZSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnN0dWRlbnRzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0dWRlbnRzW2tleV0gIT09IGZyb20pIHtcbiAgICAgICAgICB0aGlzLnN0dWRlbnRzW2tleV0ucmVjZWl2ZShtZXNzYWdlLCBmcm9tKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG4vLyBjbGFzcyBTdHVkZW50TWVkaWF0b3Ige1xuLy8gICBzdHVkZW50czogUmVjb3JkPHN0cmluZywgU3R1ZGVudD5cbi8vICAgY29uc3RydWN0b3IoKSB7XG4vLyAgICAgdGhpcy5zdHVkZW50cyA9IHt9XG4vLyAgIH1cblxuLy8gICByZWdpc3RlclN0dWRlbnQoc3R1ZGVudDogU3R1ZGVudCkge1xuLy8gICAgIHRoaXMuc3R1ZGVudHNbc3R1ZGVudC5maXJzdE5hbWVdID0gc3R1ZGVudFxuLy8gICAgIHN0dWRlbnQuYWRtaW5NZWRpYXRvciA9IHRoaXNcbi8vICAgfVxuXG4vLyAgIHNlbmQobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBTdHVkZW50LCB0bz86IFN0dWRlbnQpIHtcbi8vICAgICBpZiAodG8pIHtcbi8vICAgICAgIHRvLnJlY2VpdmUobWVzc2FnZSwgZnJvbSlcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgT2JqZWN0LmtleXModGhpcy5zdHVkZW50cykuZm9yRWFjaChrZXkgPT4ge1xuLy8gICAgICAgICBpZiAodGhpcy5zdHVkZW50c1trZXldICE9PSBmcm9tKSB7XG4vLyAgICAgICAgICAgdGhpcy5zdHVkZW50c1trZXldLnJlY2VpdmUobWVzc2FnZSwgZnJvbSlcbi8vICAgICAgICAgfVxuLy8gICAgICAgfSlcbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cbi8vIGNsYXNzIENvdXJzZU1lZGlhdG9yIHtcbi8vICAgY291cnNlczogUmVjb3JkPHN0cmluZywgQ291cnNlPlxuLy8gICBjb25zdHJ1Y3RvcigpIHtcbi8vICAgICB0aGlzLmNvdXJzZXMgPSB7fVxuLy8gICB9XG5cbi8vICAgcmVnaXN0ZXJDb3Vyc2UoY291cnNlOiBDb3Vyc2UpIHtcbi8vICAgICB0aGlzLmNvdXJzZXNbY291cnNlLnRpdGxlXSA9IGNvdXJzZVxuLy8gICAgIGNvdXJzZS5jb3Vyc2VNZWRpYXRvciA9IHRoaXNcbi8vICAgfVxuXG4vLyAgIHNlbmQobWVzc2FnZTogc3RyaW5nLCBmcm9tOiBDb3Vyc2UsIHRvPzogQ291cnNlKSB7XG4vLyAgICAgLy9cbi8vICAgfVxuLy8gfVxuXG5leHBvcnQgeyBBZG1pbk1lZGlhdG9yIH1cbiIsImltcG9ydCB7IEFkbWluIH0gZnJvbSBcIi4vYWRtaW5cIlxuaW1wb3J0IHsgQWRtaW5NZWRpYXRvciB9IGZyb20gXCIuL21lZGlhdG9yXCJcbmltcG9ydCB7IFBlcnNvbiB9IGZyb20gXCIuL1BlcnNvblwiXG5cbmNsYXNzIFN0dWRlbnQgZXh0ZW5kcyBQZXJzb24ge1xuICBhZG1pbk1lZGlhdG9yOiBudWxsIHwgQWRtaW5NZWRpYXRvclxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBmaXJzdE5hbWU6IHN0cmluZywgbGFzdE5hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZywgYWdlOiBudW1iZXIpIHtcbiAgICBzdXBlcihpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIGFnZSlcbiAgICB0aGlzLmFkbWluTWVkaWF0b3IgPSBudWxsXG4gIH1cbiAgZGlzcGxheUluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGAke3RoaXMuZmlyc3ROYW1lfS0ke3RoaXMubGFzdE5hbWV9YCxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLFxuICAgICAgYWdlOiBgJHt0aGlzLmFnZX1gLFxuICAgIH1cbiAgfVxuICBzZW5kKG1lc3NhZ2U6IHN0cmluZywgdG8/OiBTdHVkZW50LCBhZG1pbj86IEFkbWluKSB7XG4gICAgdGhpcy5hZG1pbk1lZGlhdG9yPy5zZW5kKG1lc3NhZ2UsIHRoaXMsIHRvLCBhZG1pbilcbiAgfVxuICByZWNlaXZlKG1lc3NhZ2U6IHN0cmluZywgZnJvbTogU3R1ZGVudCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke21lc3NhZ2V9IC0gZnJvbSAke2Zyb219YFxuICB9XG59XG5cbmNvbnN0IGFkbWluTWVkaWF0b3IgPSBuZXcgQWRtaW5NZWRpYXRvcigpXG5cbmNvbnN0IGxvYWRTdHVkZW50cyA9ICgpID0+IFtcbiAgbmV3IFN0dWRlbnQoMSwgXCJGcmFua1wiLCBcIk1lbGxiZXJnXCIsIFwiZnJhbmtAaW8uY29tXCIsIDIxKSxcbiAgbmV3IFN0dWRlbnQoMiwgXCJSaW9cIiwgXCJGZXJkaW5hbmRcIiwgXCJyaW9AaW8uY29tXCIsIDI1KSxcbiAgbmV3IFN0dWRlbnQoMywgXCJOZW1hbmphXCIsIFwiVmlkaWNcIiwgXCJuZW1hbmphQGlvLmNvbVwiLCAzMiksXG4gIG5ldyBTdHVkZW50KDQsIFwiRnJlZHJpa1wiLCBcImxqdW5nYmVyZ1wiLCBcImZyZWRyaWtAaW8uY29tXCIsIDMyKSxcbl1cblxuY29uc3QgcmVnaXN0ZXJBbGxTdHVkZW50cyA9ICgpOiB2b2lkID0+IHtcbiAgZm9yIChsZXQgc3R1ZGVudCBvZiBsb2FkU3R1ZGVudHMoKSkge1xuICAgIGFkbWluTWVkaWF0b3IucmVnaXN0ZXJTdHVkZW50KHN0dWRlbnQpXG4gIH1cbn1cblxuZXhwb3J0IHsgU3R1ZGVudCwgbG9hZFN0dWRlbnRzLCBhZG1pbk1lZGlhdG9yLCByZWdpc3RlckFsbFN0dWRlbnRzIH1cbiIsImltcG9ydCB7IEFkbWluLCBsb2FkQWRtaW4gfSBmcm9tIFwiLi4vbW9kZWxzL2FkbWluXCJcbmltcG9ydCB7IFN0dWRlbnQgfSBmcm9tIFwiLi4vbW9kZWxzL3N0dWRlbnRcIlxuaW1wb3J0IHsgVGVhY2hlciB9IGZyb20gXCIuLi9tb2RlbHMvdGVhY2hlclwiXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuL2xpc3Qtdmlld1wiXG5cbmV4cG9ydCBjbGFzcyBNb2RhbFZpZXc8VD4ge1xuICBwYXJlbnRFbGVtZW50OiBIVE1MRGl2RWxlbWVudFxuICBsaXN0OiBBcnJheTxhbnk+XG4gIGRhdGE6IFN0dWRlbnQgfCBUZWFjaGVyXG4gIHRpdGxlOiBzdHJpbmdcbiAgbGlzdFZpZXc6IExpc3RWaWV3PFQ+XG4gIHN1YlRpdGxlczogc3RyaW5nW11cbiAgY29uZmlybWF0aW9uVGV4dDogc3RyaW5nXG4gIGFkbWluOiBBZG1pblxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuICAgIGxpc3Q6IGFueSxcbiAgICBkYXRhOiBTdHVkZW50IHwgVGVhY2hlcixcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIHN1YlRpdGxlczogc3RyaW5nW10sXG4gICkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnRcbiAgICB0aGlzLmxpc3QgPSBsaXN0XG4gICAgdGhpcy5kYXRhID0gZGF0YVxuICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgIHRoaXMuc3ViVGl0bGVzID0gc3ViVGl0bGVzXG4gICAgdGhpcy5saXN0VmlldyA9IG5ldyBMaXN0Vmlldyh0aGlzLnBhcmVudEVsZW1lbnQsIHRoaXMubGlzdCwgdGhpcy50aXRsZSwgdGhpcy5zdWJUaXRsZXMpXG4gICAgdGhpcy5jb25maXJtYXRpb25UZXh0ID0gXCJcIlxuICAgIHRoaXMuYWRtaW4gPSBsb2FkQWRtaW4oKVxuICB9XG5cbiAgdXBkYXRlVGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRFWFRcIiwgdGV4dClcbiAgICB0aGlzLmNvbmZpcm1hdGlvblRleHQgPSB0ZXh0XG4gIH1cblxuICByZW5kZXIoKTogdm9pZCB7XG4gICAgY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKSBhcyBIVE1MRExpc3RFbGVtZW50XG4gICAgbW9kYWxXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJzaG93LW1vZGFsXCIpXG5cbiAgICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXJcIj5cbiAgICAgICR7dGhpcy5saXN0Vmlldy5yZW5kZXJSYXdIdG1sKCl9XG4gICAgICAke3RoaXMuY29uZmlybWF0aW9uVGV4dH1cbiAgICAgIDxidXR0b24gY2xhc3M9XCJjbG9zZS1tb2RhbFwiPlxuICAgICAgICDinYxcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIGBcblxuICAgIG1vZGFsV3JhcHBlci5pbm5lckhUTUwgPSBodG1sXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1tb2RhbFwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIG1vZGFsV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1tb2RhbFwiKVxuICAgICAgbW9kYWxXcmFwcGVyLmlubmVySFRNTCA9IFwiXCJcbiAgICB9KVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbCB0Ym9keSB0clwiKS5mb3JFYWNoKCh0cjogYW55KSA9PiB7XG4gICAgICB0ci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKFwic2VuZFwiIGluIHRoaXMuZGF0YSkge1xuICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvblRleHQgPSBgWW91IGhhdmUgbm93IGJlZW4gcmVnaXN0ZXJlZCB0byB0aGUgJHtldmVudC50YXJnZXQuaW5uZXJUZXh0fSBDb3Vyc2VgXG4gICAgICAgICAgdGhpcy5kYXRhLnNlbmQoY29uZmlybWF0aW9uVGV4dCwgdGhpcy5kYXRhLCB0aGlzLmFkbWluKSAvLyBzZW5kaW5nIGZyb20gdGhpcyBzdHVkZW50LCB0byBpdHNlbGYgYW5kIHRvIGFkbWluXG4gICAgICAgICAgdGhpcy51cGRhdGVUZXh0KGNvbmZpcm1hdGlvblRleHQpXG4gICAgICAgICAgdGhpcy51cGRhdGVIdG1sKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIHVwZGF0ZUh0bWwoKSB7XG4gICAgdGhpcy5yZW5kZXIoKVxuICB9XG59XG4iLCJpbXBvcnQgeyBEaXNwbGF5SW5mbyB9IGZyb20gXCIuLi90eXBlc1wiXG5jbGFzcyBDb3Vyc2Uge1xuICBpZDogbnVtYmVyXG4gIHRpdGxlOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBkdXJhdGlvbjogc3RyaW5nXG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgZHVyYXRpb246IHN0cmluZykge1xuICAgIHRoaXMuaWQgPSBpZFxuICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvblxuICB9XG5cbiAgZGlzcGxheUluZm8oKTogRGlzcGxheUluZm8ge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBsb2FkQ291cnNlcyA9ICgpOiBDb3Vyc2VbXSA9PiBbXG4gIG5ldyBDb3Vyc2UoMSwgXCJtYXRoXCIsIFwibWF0aCBpcyB3b25kZXJmdWxcIiwgXCI2aFwiKSxcbiAgbmV3IENvdXJzZSgyLCBcImhpc3RvcnlcIiwgXCJoaXN0b3J5IGlzIGdvb2QgZm9yIHlvdVwiLCBcIjNoXCIpLFxuICBuZXcgQ291cnNlKDMsIFwic3dlZGlzaFwiLCBcIndpdGhvdXQgc3dlZGlzaCB5b3Ugd2lsbCBmYWNlIHNvbWUgc2VyaW91cyBwcm9ibGVtc1wiLCBcIjJoXCIpLFxuICBuZXcgQ291cnNlKDQsIFwiZW5nbGlzaFwiLCBcInRoZSBnbG9iYWwgbGFuZ3VhZ2UsIGxlYXJuIGl0IE5PVyEhIVwiLCBcIjVoXCIpLFxuXVxuXG5leHBvcnQgeyBDb3Vyc2UsIGxvYWRDb3Vyc2VzIH1cbiIsImltcG9ydCB7IGxvYWRTdHVkZW50cywgU3R1ZGVudCwgcmVnaXN0ZXJBbGxTdHVkZW50cywgYWRtaW5NZWRpYXRvciB9IGZyb20gXCIuLi9tb2RlbHMvc3R1ZGVudFwiXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi92aWV3cy9saXN0LXZpZXdcIlxuaW1wb3J0IHsgTW9kYWxWaWV3IGFzIENvdXJzZXNNb2RhbFZpZXcgfSBmcm9tIFwiLi4vdmlld3MvbW9kYWwtdmlld1wiXG5pbXBvcnQgeyBsb2FkQ291cnNlcyB9IGZyb20gXCIuLi9tb2RlbHMvY291cnNlXCJcbmltcG9ydCB7IFByb2ZpbGVWaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL3Byb2ZpbGUtdmlld1wiXG5cbmV4cG9ydCBjbGFzcyBTdHVkZW50Q29udHJvbGxlciB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIHN0dWRlbnRzVmlldzogTGlzdFZpZXc8U3R1ZGVudD5cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50XG4gICAgdGhpcy5zdHVkZW50c1ZpZXcgPSBuZXcgTGlzdFZpZXcodGhpcy5wYXJlbnRFbGVtZW50LCBsb2FkU3R1ZGVudHMoKSwgXCJTdHVkZW50c1wiLCBbXG4gICAgICBcIm5hbWVcIixcbiAgICAgIFwiZW1haWxcIixcbiAgICAgIFwiYWdlXCIsXG4gICAgXSlcbiAgfVxuXG4gIGhhbmRsZUNsaWNrU3R1ZGVudCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0dWRlbnRzVmlldy5jbGlja0hhbmRsZXIoKGlkOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IHN0dWRlbnQgPSBsb2FkU3R1ZGVudHMoKS5maW5kKHN0dWRlbnQgPT4gc3R1ZGVudC5pZCA9PT0gaWQpXG4gICAgICBjb25zdCBkYXRhID0gc3R1ZGVudCEgYXMgU3R1ZGVudFxuICAgICAgY29uc3QgY291cnNlcyA9IGxvYWRDb3Vyc2VzKClcbiAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0XCIpIGFzIEhUTUxEaXZFbGVtZW50XG4gICAgICBuZXcgQ291cnNlc01vZGFsVmlldzxhbnlbXT4obW9kYWwsIGNvdXJzZXMsIGRhdGEsIFwiY291cnNlc1wiLCBbXCJ0aXRsZVwiLCBcImR1cmF0aW9uXCJdKS5yZW5kZXIoKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTaG93UHJvZmlsZSgpOiB2b2lkIHtcbiAgICAvLyB0aGlzLnByb2ZpbGVWaWV3LmNsaWNrSGFuZGxlcigoaWQ6IG51bWJlcikgPT4ge1xuICAgIC8vICAgY29uc3Qgc3R1ZGVudCA9IGxvYWRTdHVkZW50cygpLmZpbmQoc3R1ZGVudCA9PiBzdHVkZW50LmlkID09PSBpZClcbiAgICAvLyAgIGNvbnN0IGRhdGEgPSBzdHVkZW50ISBhcyBTdHVkZW50XG4gICAgLy8gICBjb25zdCBjb3Vyc2VzID0gbG9hZENvdXJzZXMoKVxuICAgIC8vICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWxpc3RcIikgYXMgSFRNTERpdkVsZW1lbnRcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwibW9kYWxcIiwgbW9kYWwpXG4gICAgLy8gfSlcbiAgfVxuXG4gIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zdHVkZW50c1ZpZXcuaW5pdCgpXG4gICAgdGhpcy5oYW5kbGVDbGlja1N0dWRlbnQoKVxuICAgIHJlZ2lzdGVyQWxsU3R1ZGVudHMoKVxuICAgIHRoaXMuaGFuZGxlU2hvd1Byb2ZpbGUoKVxuICAgIC8vIGNvbnNvbGUubG9nKFwiYWRtaW5NZWRpYXRvclwiLCBhZG1pbk1lZGlhdG9yKSAvLyFmb3IgdGVzdGluZyFcbiAgfVxufVxuIiwiaW1wb3J0IHsgQWRtaW4sIGxvYWRBZG1pbiB9IGZyb20gXCIuLi9tb2RlbHMvYWRtaW5cIlxuXG5leHBvcnQgY2xhc3MgQWRtaW5WaWV3IHtcbiAgcGFyZW50RWxlbWVudDogSFRNTERpdkVsZW1lbnRcbiAgYWRtaW46IEFkbWluXG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudFxuICAgIHRoaXMuYWRtaW4gPSBsb2FkQWRtaW4oKVxuICB9XG5cbiAgcmVuZGVyKCk6IHZvaWQge1xuICAgIC8vXG4gIH1cbn1cbiIsImltcG9ydCB7IEFkbWluVmlldyB9IGZyb20gXCIuLi92aWV3cy9hZG1pbi12aWV3XCJcblxuZXhwb3J0IGNsYXNzIEFkbWluQ29udHJvbGxlciB7XG4gIHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50XG4gIGFkbWluVmlldzogQWRtaW5WaWV3XG4gIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgdGhpcy5wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudFxuICAgIHRoaXMuYWRtaW5WaWV3ID0gbmV3IEFkbWluVmlldyh0aGlzLnBhcmVudEVsZW1lbnQpXG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuYWRtaW5WaWV3LnJlbmRlcigpXG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy9hcHBcIlxuaW1wb3J0IHsgVGVhY2hlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi9wYXR0ZXJucy9tdmMyLjAvY29udHJvbGxlcnMvdGVhY2hlclwiXG5pbXBvcnQgeyBTdHVkZW50Q29udHJvbGxlciB9IGZyb20gXCIuL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy9zdHVkZW50XCJcbmltcG9ydCB7IEFkbWluQ29udHJvbGxlciB9IGZyb20gXCIuL3BhdHRlcm5zL212YzIuMC9jb250cm9sbGVycy9hZG1pblwiXG47KCgpID0+IHtcbiAgbmV3IEFwcChcbiAgICBuZXcgVGVhY2hlckNvbnRyb2xsZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZWFjaGVyXCIpIGFzIEhUTUxEaXZFbGVtZW50KSxcbiAgICBuZXcgU3R1ZGVudENvbnRyb2xsZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdHVkZW50XCIpIGFzIEhUTUxEaXZFbGVtZW50KSxcbiAgICBuZXcgQWRtaW5Db250cm9sbGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRtaW5cIikgYXMgSFRNTERpdkVsZW1lbnQpLFxuICApLnJlbmRlcigpXG59KSgpXG4iXSwic291cmNlUm9vdCI6IiJ9