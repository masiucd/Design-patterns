(()=>{"use strict";var t,o,e=function(){function t(t){this.todos=t}return t.prototype.getElement=function(t){return document.querySelector(t)},t.prototype.createElement=function(t,o,e){void 0===t&&(t=""),void 0===o&&(o=""),void 0===e&&(e="");var n=document.createElement(t);return o&&(n.id=o),e&&n.classList.add(e),n},t.prototype._getTodoText=function(){return document.getElementById("form-input").value},t.prototype._resetInput=function(){var t=document.getElementById("form-input");t.value=t.value=""},t.prototype.bindToggleTodo=function(t){var o=document.querySelectorAll(".todo-item");console.log(o)},t.prototype.renderTodos=function(){return this.todos.map((function(t){return'\n        <li id="todo-item" class="todo-item">\n          <label for="checked">\n            <input type="checkbox" name="checked" id="checked">\n          </label>\n          <strong>'+t.task+'</strong> \n          <button id="delete">delete</button>\n        </li>'})).join("")},t.prototype.mount=function(t){t.appendChild(this.render()),this.update()},t.prototype.render=function(){var t=this.createElement("div","wrapper","wrapper");return t.innerHTML='\n    <main id="main">\n      <h1>Todo List</h1>\n        <form action="" id="form">\n          <div class="form-group">\n            <input type="text" id="form-input" />\n          </div>\n          <div class="form-button-group">\n            <button type="submit">addTodo</button>\n          </div>\n        </form>\n        <ul id="todo-list">\n          '+this.renderTodos()+"\n        </ul>\n    </main>\n      ",t},t.prototype.update=function(){var t=document.querySelectorAll(".todo-item");console.log(t)},t}(),n=function(){return(n=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var d in o=arguments[e])Object.prototype.hasOwnProperty.call(o,d)&&(t[d]=o[d]);return t}).apply(this,arguments)},d=function(){function t(){this.todos=[],this.todos=[{id:1,task:"go out with the dog",completed:!1},{id:2,task:"done homework",completed:!0},{id:3,task:"go out for a run",completed:!0},{id:4,task:"cook some food",completed:!1}]}return t.prototype.addTodo=function(t){return this.todos.push(t),this.todos},t.prototype.editTodo=function(t,o,e){return void 0===o&&(o=""),void 0===e&&(e=!1),this.todos=this.todos.map((function(d){return d.id===t?n(n({},d),{task:o,completed:e}):d})),this.todos},t.prototype.toggleTodo=function(t){return this.todos=this.todos.map((function(o){return o.id===t?n(n({},o),{completed:!o.completed}):o})),this.todos},t.prototype.removeTodo=function(t){return this.todos=this.todos.filter((function(o){return o.id!==t})),this.todos},Object.defineProperty(t.prototype,"allTodos",{get:function(){return this.todos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.todos.length},enumerable:!1,configurable:!0}),t.prototype.findTodo=function(t){return this.todos.find((function(o){return o.id===t}))},t}();t=document.getElementById("root"),new function(t,o){var e=this;this.handleAddTodo=function(t){e.model.addTodo(t)},this.handleEditTodo=function(t,o,n){e.model.editTodo(t,o,n)},this.handleDeleteTodo=function(t){e.model.removeTodo(t)},this.handleMount=function(t){e.view.mount(t)},this.handleToggle=function(t){e.model.toggleTodo(t)},this.model=t,this.view=o,this.view.bindToggleTodo(this.handleAddTodo)}(o=new d,new e(o.allTodos)).handleMount(t)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY2hvb2wtZGF0YS8uL3NyYy9wYXR0ZXJucy9tdmMvdmlld3MvdG9kby12aWV3LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212Yy9tb2RlbHMvdG9kby1saXN0LnRzIiwid2VicGFjazovL3NjaG9vbC1kYXRhLy4vc3JjL3BhdHRlcm5zL212Yy9jb250cm9sbGVycy90b2RvLWNvbnRyb2xsZXIudHMiXSwibmFtZXMiOlsicm9vdCIsInRvZG9MaXN0IiwidG9kb3MiLCJ0aGlzIiwiZ2V0RWxlbWVudCIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlRWxlbWVudCIsImVsZW1lbnQiLCJpZCIsImNsYXNzTmFtZSIsImh0bWxFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2dldFRvZG9UZXh0IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsIl9yZXNldElucHV0IiwiaW5wdXQiLCJiaW5kVG9nZ2xlVG9kbyIsImhhbmRsZXIiLCJ0b2RvSXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uc29sZSIsImxvZyIsInJlbmRlclRvZG9zIiwibWFwIiwidG9kbyIsInRhc2siLCJqb2luIiwibW91bnQiLCJwYXJlbnQiLCJhcHBlbmRDaGlsZCIsInJlbmRlciIsInVwZGF0ZSIsIndyYXBwZXIiLCJpbm5lckhUTUwiLCJjb21wbGV0ZWQiLCJhZGRUb2RvIiwicHVzaCIsImVkaXRUb2RvIiwidG9kb0lkIiwidG9nZ2xlVG9kbyIsInJlbW92ZVRvZG8iLCJmaWx0ZXIiLCJsZW5ndGgiLCJmaW5kVG9kbyIsImZpbmQiLCJtb2RlbCIsInZpZXciLCJoYW5kbGVBZGRUb2RvIiwiaGFuZGxlRWRpdFRvZG8iLCJoYW5kbGVEZWxldGVUb2RvIiwiaGFuZGxlTW91bnQiLCJoYW5kbGVUb2dnbGUiLCJUb2RvTGlzdCIsIlRv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RS9DLEVBM0NBLEdERlExQyxFQUFPTSxTQUFTVSxlQUFlLFFBSWQsSUVEdkIsU0FBWWlDLEVBQWlCQyxHQUE3QixXQU9BLEtBQUFDLGNBQWdCLFNBQUN2QixHQUNmLEVBQUtxQixNQUFNVixRQUFRWCxJQUdyQixLQUFBd0IsZUFBaUIsU0FBQzFDLEVBQVltQixFQUFjUyxHQUMxQyxFQUFLVyxNQUFNUixTQUFTL0IsRUFBSW1CLEVBQU1TLElBR2hDLEtBQUFlLGlCQUFtQixTQUFDM0MsR0FDbEIsRUFBS3VDLE1BQU1MLFdBQVdsQyxJQUd4QixLQUFBNEMsWUFBYyxTQUFDN0MsR0FDYixFQUFLeUMsS0FBS25CLE1BQU10QixJQUdsQixLQUFBOEMsYUFBZSxTQUFDN0MsR0FDZCxFQUFLdUMsTUFBTU4sV0FBV2pDLElBdkJ0QlAsS0FBSzhDLE1BQVFBLEVBQ2I5QyxLQUFLK0MsS0FBT0EsRUFFWi9DLEtBQUsrQyxLQUFLOUIsZUFBZWpCLEtBQUtnRCxlRkhULENBSGpCbEQsRUFBVyxJQUFJdUQsRUFFSixJQUFJQyxFQURSeEQsRUFBU3lELFdBR1BKLFlBQVl0RCxJIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvZG9JdGVtIH0gZnJvbSBcIi4uL21vZGVscy90b2RvLWxpc3RcIlxuZXhwb3J0IGNsYXNzIFRvZG9WaWV3IHtcbiAgdG9kb3M6IFRvZG9JdGVtW11cblxuICBjb25zdHJ1Y3Rvcih0b2RvczogVG9kb0l0ZW1bXSkge1xuICAgIHRoaXMudG9kb3MgPSB0b2Rvc1xuICB9XG5cbiAgZ2V0RWxlbWVudChzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQoXG4gICAgZWxlbWVudDogc3RyaW5nID0gXCJcIixcbiAgICBpZDogc3RyaW5nID0gXCJcIixcbiAgICBjbGFzc05hbWU6IHN0cmluZyA9IFwiXCJcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50KSBhcyBIVE1MRWxlbWVudFxuICAgIGlmIChpZCkgaHRtbEVsZW1lbnQuaWQgPSBpZFxuICAgIGlmIChjbGFzc05hbWUpIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKVxuICAgIHJldHVybiBodG1sRWxlbWVudFxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0VG9kb1RleHQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGlucHV0LnZhbHVlXG4gICAgcmV0dXJuIGlucHV0VmFsdWVcbiAgfVxuXG4gIHByaXZhdGUgX3Jlc2V0SW5wdXQoKTogdm9pZCB7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm0taW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudFxuICAgIGlucHV0LnZhbHVlID0gaW5wdXQudmFsdWUgPSBcIlwiXG4gIH1cblxuICBiaW5kVG9nZ2xlVG9kbyhoYW5kbGVyOiBGdW5jdGlvbikge1xuICAgIGNvbnN0IHRvZG9JdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBcIi50b2RvLWl0ZW1cIlxuICAgICkgYXMgTm9kZUxpc3RPZjxIVE1MTElFbGVtZW50PlxuXG4gICAgY29uc29sZS5sb2codG9kb0l0ZW1zKVxuICB9XG5cbiAgcmVuZGVyVG9kb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9kb3NcbiAgICAgIC5tYXAoXG4gICAgICAgIHRvZG8gPT4gYFxuICAgICAgICA8bGkgaWQ9XCJ0b2RvLWl0ZW1cIiBjbGFzcz1cInRvZG8taXRlbVwiPlxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJjaGVja2VkXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cImNoZWNrZWRcIiBpZD1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxzdHJvbmc+JHt0b2RvLnRhc2t9PC9zdHJvbmc+IFxuICAgICAgICAgIDxidXR0b24gaWQ9XCJkZWxldGVcIj5kZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9saT5gXG4gICAgICApXG4gICAgICAuam9pbihcIlwiKVxuICB9XG5cbiAgbW91bnQocGFyZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcigpKVxuICAgIHRoaXMudXBkYXRlKClcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCkge1xuICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJ3cmFwcGVyXCIsIFwid3JhcHBlclwiKVxuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gYFxuICAgIDxtYWluIGlkPVwibWFpblwiPlxuICAgICAgPGgxPlRvZG8gTGlzdDwvaDE+XG4gICAgICAgIDxmb3JtIGFjdGlvbj1cIlwiIGlkPVwiZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImZvcm0taW5wdXRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWJ1dHRvbi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+YWRkVG9kbzwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDx1bCBpZD1cInRvZG8tbGlzdFwiPlxuICAgICAgICAgICR7dGhpcy5yZW5kZXJUb2RvcygpfVxuICAgICAgICA8L3VsPlxuICAgIDwvbWFpbj5cbiAgICAgIGBcblxuICAgIHJldHVybiB3cmFwcGVyXG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZSgpIHtcbiAgICBjb25zdCB0b2RvSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgXCIudG9kby1pdGVtXCJcbiAgICApIGFzIE5vZGVMaXN0T2Y8SFRNTExJRWxlbWVudD5cblxuICAgIGNvbnNvbGUubG9nKHRvZG9JdGVtcylcbiAgfVxufVxuIiwiaW1wb3J0IHsgVG9kb1ZpZXcgfSBmcm9tIFwiLi9wYXR0ZXJucy9tdmMvdmlld3MvdG9kby12aWV3XCJcbmltcG9ydCB7IFRvZG9MaXN0IH0gZnJvbSBcIi4vcGF0dGVybnMvbXZjL21vZGVscy90b2RvLWxpc3RcIlxuaW1wb3J0IHsgVG9kb0NvbnRyb2xsZXIgfSBmcm9tIFwiLi9wYXR0ZXJucy9tdmMvY29udHJvbGxlcnMvdG9kby1jb250cm9sbGVyXCJcbjsoKCkgPT4ge1xuICBjb25zdCByb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpIGFzIEhUTUxEaXZFbGVtZW50XG4gIGNvbnN0IHRvZG9MaXN0ID0gbmV3IFRvZG9MaXN0KClcbiAgY29uc3QgbGlzdCA9IHRvZG9MaXN0LmFsbFRvZG9zXG4gIGNvbnN0IHRvZG9WaWV3ID0gbmV3IFRvZG9WaWV3KGxpc3QpXG4gIGNvbnN0IHRvZG9Db250cm9sbGVyID0gbmV3IFRvZG9Db250cm9sbGVyKHRvZG9MaXN0LCB0b2RvVmlldylcbiAgdG9kb0NvbnRyb2xsZXIuaGFuZGxlTW91bnQocm9vdClcbn0pKClcbiIsImV4cG9ydCBpbnRlcmZhY2UgVG9kb0l0ZW0ge1xuICBpZDogbnVtYmVyXG4gIHRhc2s6IHN0cmluZ1xuICBjb21wbGV0ZWQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIFRvZG9MaXN0IHtcbiAgdG9kb3M6IFRvZG9JdGVtW10gPSBbXVxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnRvZG9zID0gW1xuICAgICAgeyBpZDogMSwgdGFzazogXCJnbyBvdXQgd2l0aCB0aGUgZG9nXCIsIGNvbXBsZXRlZDogZmFsc2UgfSxcbiAgICAgIHsgaWQ6IDIsIHRhc2s6IFwiZG9uZSBob21ld29ya1wiLCBjb21wbGV0ZWQ6IHRydWUgfSxcbiAgICAgIHsgaWQ6IDMsIHRhc2s6IFwiZ28gb3V0IGZvciBhIHJ1blwiLCBjb21wbGV0ZWQ6IHRydWUgfSxcbiAgICAgIHsgaWQ6IDQsIHRhc2s6IFwiY29vayBzb21lIGZvb2RcIiwgY29tcGxldGVkOiBmYWxzZSB9LFxuICAgIF1cbiAgfVxuXG4gIGFkZFRvZG8odG9kbzogVG9kb0l0ZW0pIHtcbiAgICB0aGlzLnRvZG9zLnB1c2godG9kbylcbiAgICByZXR1cm4gdGhpcy50b2Rvc1xuICB9XG5cbiAgZWRpdFRvZG8odG9kb0lkOiBudW1iZXIsIHRhc2s6IHN0cmluZyA9IFwiXCIsIGNvbXBsZXRlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy50b2RvcyA9IHRoaXMudG9kb3MubWFwKHRvZG8gPT5cbiAgICAgIHRvZG8uaWQgPT09IHRvZG9JZCA/IHsgLi4udG9kbywgdGFzaywgY29tcGxldGVkIH0gOiB0b2RvXG4gICAgKVxuICAgIHJldHVybiB0aGlzLnRvZG9zXG4gIH1cblxuICB0b2dnbGVUb2RvKHRvZG9JZDogbnVtYmVyKSB7XG4gICAgdGhpcy50b2RvcyA9IHRoaXMudG9kb3MubWFwKHRvZG8gPT5cbiAgICAgIHRvZG8uaWQgPT09IHRvZG9JZCA/IHsgLi4udG9kbywgY29tcGxldGVkOiAhdG9kby5jb21wbGV0ZWQgfSA6IHRvZG9cbiAgICApXG4gICAgcmV0dXJuIHRoaXMudG9kb3NcbiAgfVxuICByZW1vdmVUb2RvKHRvZG9JZDogbnVtYmVyKSB7XG4gICAgdGhpcy50b2RvcyA9IHRoaXMudG9kb3MuZmlsdGVyKHRvZG8gPT4gdG9kby5pZCAhPT0gdG9kb0lkKVxuICAgIHJldHVybiB0aGlzLnRvZG9zXG4gIH1cblxuICBnZXQgYWxsVG9kb3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9kb3NcbiAgfVxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50b2Rvcy5sZW5ndGhcbiAgfVxuICBmaW5kVG9kbyh0b2RvSWQ6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnRvZG9zLmZpbmQodG9kbyA9PiB0b2RvLmlkID09PSB0b2RvSWQpXG4gIH1cbn1cbiIsImltcG9ydCB7IFRvZG9JdGVtLCBUb2RvTGlzdCB9IGZyb20gXCIuLi9tb2RlbHMvdG9kby1saXN0XCJcbmltcG9ydCB7IFRvZG9WaWV3IH0gZnJvbSBcIi4uL3ZpZXdzL3RvZG8tdmlld1wiXG5cbmV4cG9ydCBjbGFzcyBUb2RvQ29udHJvbGxlciB7XG4gIG1vZGVsOiBUb2RvTGlzdFxuICB2aWV3OiBUb2RvVmlld1xuXG4gIGNvbnN0cnVjdG9yKG1vZGVsOiBUb2RvTGlzdCwgdmlldzogVG9kb1ZpZXcpIHtcbiAgICB0aGlzLm1vZGVsID0gbW9kZWxcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG5cbiAgICB0aGlzLnZpZXcuYmluZFRvZ2dsZVRvZG8odGhpcy5oYW5kbGVBZGRUb2RvKVxuICB9XG5cbiAgaGFuZGxlQWRkVG9kbyA9ICh0b2RvOiBUb2RvSXRlbSkgPT4ge1xuICAgIHRoaXMubW9kZWwuYWRkVG9kbyh0b2RvKVxuICB9XG5cbiAgaGFuZGxlRWRpdFRvZG8gPSAoaWQ6IG51bWJlciwgdGFzazogc3RyaW5nLCBjb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHtcbiAgICB0aGlzLm1vZGVsLmVkaXRUb2RvKGlkLCB0YXNrLCBjb21wbGV0ZWQpXG4gIH1cblxuICBoYW5kbGVEZWxldGVUb2RvID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLm1vZGVsLnJlbW92ZVRvZG8oaWQpXG4gIH1cblxuICBoYW5kbGVNb3VudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHRoaXMudmlldy5tb3VudChlbGVtZW50KVxuICB9XG5cbiAgaGFuZGxlVG9nZ2xlID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLm1vZGVsLnRvZ2dsZVRvZG8oaWQpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=